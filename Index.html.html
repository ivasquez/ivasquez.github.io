<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Mapa Web de Aserri</title>
<link rel="stylesheet"
href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.css"/>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/
3.0.2/css/font-awesome.css">
<!--[if lte IE 8]>
<link rel="stylesheet" href="http://cdn.leafletjs.com/
leaflet-0.5/leaflet.ie.css" />
<![endif]-->
<script src="http://cdn.leafletjs.com/leaflet-0.5/leaflet.js"></script>
<script
src="https://raw.github.com/lvoogdt/Leaflet.awesome-markers/
master/dist/leaflet.awesome-markers.js"></script>
<style type="text/css">
#map { width: 600px; height: 500px }
.awesome-marker {
background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/
master/dist/images/markers-soft.png") no-repeat 0 0;
width: 35px; height: 46px;
position:absolute;
left:0; top:0;
display: block;
text-align: center;
}
.awesome-marker-shadow {
background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/
master/dist/images/markers-shadow.png") no-repeat 0 0;
width: 36px; height: 16px;
}
.awesome-marker i {
color: #333; margin-top: 10px;
display: inline-block; font-size: 14px;
}
.awesome-marker .icon-white { color: #fff; }
.awesome-marker-icon-red { background-position: 0 0; }
.awesome-marker-icon-darkred { background-position: -180px 0; }
.awesome-marker-icon-orange { background-position: -36px 0; }
.awesome-marker-icon-green { background-position: -72px 0; }
.awesome-marker-icon-darkgreen { background-position: -252px 0; }
.awesome-marker-icon-blue { background-position: -108px 0; }
.awesome-marker-icon-darkblue { background-position: -216px 0; }
.awesome-marker-icon-purple { background-position: -144px 0; }
.awesome-marker-icon-darkpurple { background-position: -288px 0; }
.awesome-marker-icon-cadetblue { background-position: -324px 0; }
</style>
</head>
<body>
<div id="map"></div>
<script type="text/javascript">
var LeafIcon = L.Icon.extend({
    options: {
        iconSize:     [22, 27],
        iconAnchor:   [22, 94],
        popupAnchor:  [-3, -76]
    }
});

var RestMarker = new LeafIcon({iconUrl: 'IconRestaurant.png'}),
	BancoMarker = new LeafIcon({iconUrl: 'IconBank.png'}),
	PuenteMarker = new LeafIcon({iconUrl: 'IconBridge.png'}),
	ParadaMarker = new LeafIcon({iconUrl: 'IconBus.png'}),
	ComercioMarker = new LeafIcon({iconUrl: 'IconShop.png'}),
	TelefonoMarker = new LeafIcon({iconUrl: 'IconPhone.png'}),
	DoctorMarker = new LeafIcon({iconUrl: 'IconDoctor.png'}),
	IglesiaMarker = new LeafIcon({iconUrl: 'IconChurch.png'}),
	CentroComunitarioMarker = new LeafIcon({iconUrl: 'IconCommunityService.png'}),
	PlazaMarker = new LeafIcon({iconUrl: 'IconPlaza.png'}),
	EdificioPublicoMarker = new LeafIcon({iconUrl: 'IconPublicBuilding.png'}),
	EscuelaMarker = new LeafIcon({iconUrl: 'IconSchool.png'}),
	TurismoMarker = new LeafIcon({iconUrl: 'IconTourism.png'})
	
function onEachFeature(feature, layer) {layer.bindPopup(feature.properties.name);};

function pointToLayerRestaurant(feature, latlng) {return L.marker(latlng, {icon: RestMarker});};
function pointToLayerBanco(feature, latlng) {return L.marker(latlng, {icon: BancoMarker});};
function pointToLayerPuentes(feature, latlng) {return L.marker(latlng, {icon: PuenteMarker});};
function pointToLayerParadas(feature, latlng) {return L.marker(latlng, {icon: ParadaMarker});};
function pointToLayerComercios(feature, latlng) {return L.marker(latlng, {icon: ComercioMarker});};
function pointToLayerTelefonos(feature, latlng) {return L.marker(latlng, {icon: TelefonoMarker});};
function pointToLayerDoctor(feature, latlng) {return L.marker(latlng, {icon: DoctorMarker});};
function pointToLayerIglesias(feature, latlng) {return L.marker(latlng, {icon: IglesiaMarker});};
function pointToLayerCentrosComunitarios(feature, latlng) {return L.marker(latlng, {icon: CentroComunitarioMarker});};
function pointToLayerPlazas(feature, latlng) {return L.marker(latlng, {icon: PlazaMarker});};
function pointToLayerEdificioPublico(feature, latlng) {return L.marker(latlng, {icon: EdificioPublicoMarker});};
function pointToLayerEscuelas(feature, latlng) {return L.marker(latlng, {icon: EscuelaMarker});};
function pointToLayerTurismo(feature, latlng) {return L.marker(latlng, {icon: TurismoMarker});};


var xhr = new XMLHttpRequest() || new ActiveXObject("Msxml2.XMLHTTP")
|| new ActiveXObject("Microsoft.XMLHTTP");
xhr.open("GET","Distritos.geojson",false); xhr.send(null);
var distritos = JSON.parse(xhr.responseText);
xhr.open("GET","Canton.geojson",false); xhr.send(null);
var canton = JSON.parse(xhr.responseText);
xhr.open("GET","Calles.geojson",false); xhr.send(null);
var calles = JSON.parse(xhr.responseText);
xhr.open("GET","Quebradas.geojson",false); xhr.send(null);
var quebradas = JSON.parse(xhr.responseText);
xhr.open("GET","Rios.geojson",false); xhr.send(null);
var rios = JSON.parse(xhr.responseText);
xhr.open("GET","Bancos.geojson",false); xhr.send(null);
var bancos = JSON.parse(xhr.responseText);
xhr.open("GET","Restaurantes.geojson",false); xhr.send(null);
var restaurantes = JSON.parse(xhr.responseText);
xhr.open("GET","Puentes.geojson",false); xhr.send(null);
var puentes = JSON.parse(xhr.responseText);
xhr.open("GET","ParadasAutobus.geojson",false); xhr.send(null);
var paradas = JSON.parse(xhr.responseText);
xhr.open("GET","Comercios.geojson",false); xhr.send(null);
var comercios = JSON.parse(xhr.responseText);
xhr.open("GET","Telefonos.geojson",false); xhr.send(null);
var telefonos = JSON.parse(xhr.responseText);
xhr.open("GET","BufferCalles.geojson",false); xhr.send(null);
var buffercalles = JSON.parse(xhr.responseText);
xhr.open("GET","BufferQuebradas.geojson",false); xhr.send(null);
var bufferquebradas = JSON.parse(xhr.responseText);
xhr.open("GET","BufferRios.geojson",false); xhr.send(null);
var bufferrios = JSON.parse(xhr.responseText);
xhr.open("GET","ServiciosMedicos.geojson",false); xhr.send(null);
var doctores = JSON.parse(xhr.responseText);
xhr.open("GET", "IglesiasPoligonos.geojson", false); xhr.send(null);
var IglesiasPoligonos = JSON.parse(xhr.responseText);
xhr.open("GET", "EducacionPoligonos.geojson", false); xhr.send(null);
var EducacionPoligonos = JSON.parse(xhr.responseText);
xhr.open("GET", "CentrosPoligonos.geojson", false); xhr.send(null);
var CentrosPoligonos = JSON.parse(xhr.responseText);
xhr.open("GET", "ParquesPoligonos.geojson", false); xhr.send(null);
var ParquesPoligonos = JSON.parse(xhr.responseText);
xhr.open("GET", "PublicosPoligonos.geojson", false); xhr.send(null);
var PublicosPoligonos = JSON.parse(xhr.responseText);

var styleDistritos = {
	"color": "#ff7800",
	"weight": 1,
	"opacity": 0.65
};

var styleCanton = {
	"color": "#A901DB",
	"weight": 1,
	"opacity": 0.65
};

var styleCalles = {
	"color": "#00FF40",
	"weight": 2,
	"opacity": 0.65
};

var styleQuebradas = {
	"color": "#0101DF",
	"weight": 2,
	"opacity": 0.65
};

var styleRios = {
	"color": "#0B0B61",
	"weight": 2,
	"opacity": 0.65
};

var styleIglesias = {
	"color": "#FF00BF",
	"weight": 2,
	"opacity": 0.65
};

var styleEducacion = {
	"color": "#2EFEF7",
	"weight": 2,
	"opacity": 0.65
};

var styleCentrosComunitarios = {
	"color": "#8A0886",
	"weight": 2,
	"opacity": 0.65
};

var styleEdificiosPublicos = {
	"color": "#FF0000",
	"weight": 2,
	"opacity": 0.65
};

var stylePlazas = {
    "color": "#68EC63",
    "weight": 2,
    "opacity": 0.65
};

var IglesiasLayer = L.geoJson(IglesiasPoligonos, {
    onEachFeature: onEachFeature,
    style: styleIglesias
});

var EducacionLayer = L.geoJson(EducacionPoligonos, {
    onEachFeature: onEachFeature,
    style: styleEducacion
});

var CentrosLayer = L.geoJson(CentrosPoligonos, {
    onEachFeature: onEachFeature,
    style: styleCentrosComunitarios
});

var PublicosLayer = L.geoJson(PublicosPoligonos, {
    onEachFeature: onEachFeature,
    style: styleEdificiosPublicos
});

var ParquesLayer = L.geoJson(ParquesPoligonos, {
    onEachFeature: onEachFeature,
    style: stylePlazas
});

var DistritosLayer = L.geoJson(distritos, {
	onEachFeature: onEachFeature,
	style: styleDistritos
});

var CantonLayer = L.geoJson(canton, {
	onEachFeature: onEachFeature,
	style: styleCanton
});

var CallesLayer = L.geoJson(calles, {
	onEachFeature: onEachFeature,
	style: styleCalles
});

var QuebradasLayer = L.geoJson(quebradas, {
	onEachFeature: onEachFeature,
	style: styleQuebradas
});

var RiosLayer = L.geoJson(rios, {
	onEachFeature: onEachFeature,
	style: styleRios
});

var BancosLayer = L.geoJson(bancos, {
	pointToLayer: pointToLayerBanco, 
	onEachFeature: onEachFeature
});

var RestaurantesLayer = L.geoJson(restaurantes, {
	pointToLayer: pointToLayerRestaurant, 
	onEachFeature: onEachFeature
});

var PuentesLayer = L.geoJson(puentes, {
	pointToLayer: pointToLayerPuentes, 
	onEachFeature: onEachFeature
});

var ParadasLayer = L.geoJson(paradas, {
	pointToLayer: pointToLayerParadas, 
	onEachFeature: onEachFeature
});

var ComerciosLayer = L.geoJson(comercios, {
	pointToLayer: pointToLayerComercios, 
	onEachFeature: onEachFeature
});

var TelefonosLayer = L.geoJson(telefonos, {
	pointToLayer: pointToLayerTelefonos, 
	onEachFeature: onEachFeature
});

var DoctoresLayer = L.geoJson(doctores, {
	pointToLayer: pointToLayerDoctor, 
	onEachFeature: onEachFeature
});

var BufferCallesLayer = L.geoJson(buffercalles, {
	onEachFeature: onEachFeature,
	style: styleCalles
});

var BufferQuebradasLayer = L.geoJson(bufferquebradas, {
	onEachFeature: onEachFeature,
	style: styleQuebradas
});

var BufferRiosLayer = L.geoJson(bufferrios, {
	onEachFeature: onEachFeature,
	style: styleRios
});

var map = L.map("map", {
	center: new L.LatLng(9.7473,-84.1311),
	zoom: 12,
	layers: [DistritosLayer,CantonLayer,CallesLayer,QuebradasLayer,RiosLayer,BancosLayer,RestaurantesLayer,DoctoresLayer,PuentesLayer,ParadasLayer,ComerciosLayer,TelefonosLayer,BufferCallesLayer,BufferQuebradasLayer,BufferRiosLayer,IglesiasLayer,CentrosLayer,ParquesLayer,EducacionLayer,PublicosLayer]
});

var overlayMaps = {
	"Distritos": DistritosLayer,
	"Canton" : CantonLayer,
	"Bancos" : BancosLayer,
	"Restaurantes" : RestaurantesLayer,
	"Servicios Medicos" : DoctoresLayer,
	"Puentes" :PuentesLayer,
	"Paradas de Autobus" : ParadasLayer,
	"Comercios" : ComerciosLayer,
	"Telefonos" : TelefonosLayer,
	"Calles" : CallesLayer,
	"Buffer Calles" : BufferCallesLayer,
	"Quebradas" : QuebradasLayer,
	"Buffer Quebradas" : BufferQuebradasLayer,
	"Rios": RiosLayer,
	"Buffer Rios": BufferRiosLayer,
	"Edificios publicos": PublicosLayer,
	"Centros educativos": EducacionLayer,
	"Parques y plazas": ParquesLayer,
	"Centros comunitarios": CentrosLayer,
	"Iglesias": IglesiasLayer
};
L.control.layers(null, overlayMaps).addTo(map);
L.control.scale().addTo(map);
</script>
</body>
</html>
